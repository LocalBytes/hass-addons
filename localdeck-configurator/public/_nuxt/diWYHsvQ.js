var K=Object.defineProperty;var W=(e,t,r)=>t in e?K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var b=(e,t,r)=>W(e,typeof t!="symbol"?t+"":t,r);import{J as M,r as k,V as j,n as B,s as v,o as h,c as y,z as d,t as _,A as I,B as S,a as H,Y as X,_ as z,Z as J,$ as Q,g as ee,H as te,m as re,u as T,W as ne,F as ie,y as oe,O as le}from"./CfXXGEuZ.js";const se=Symbol("isPrinting"),L=()=>M(se,k(!1)),R=Symbol("fontSizes"),ae=()=>M(R,j({devicePixelRatio:1,rootFontSize:14,scaleFactor:1})),ce={key:0,class:"position-fixed keynum"},ue=B({__name:"DeckButtonItem",props:{container:{required:!0,type:Object},editing:{type:Boolean,default:!1}},setup(e){const t=k(),r=L(),i=e,n=ae(),l=v(()=>{var s;return((s=i.container)==null?void 0:s.label.fontSize)??14}),o=v(()=>l.value*n.scaleFactor);return(s,a)=>(h(),y("div",{ref_key:"padGridItem",ref:t,class:S([{"shadow-lg shadow-yellow-300":e.editing,printmode:d(r)},"pad-grid-item"])},[d(r)?I("",!0):(h(),y("p",ce,_(e.container.keyNum),1)),e.container.label.icon?(h(),y("p",{key:1,class:S([{"material-symbols-outlined":e.container.label.icon.startsWith("mdi:")},"text-center icon"])},_(e.container.label.icon.replace("mdi:","")),3)):I("",!0),H("p",{ref:"labelRef",style:X({fontSize:(d(r)?d(l):d(o))+"px"}),class:"label-bottom"},_(e.container.label.text),5)],2))}}),fe=z(ue,[["__scopeId","data-v-6e139dc0"]]);/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function D(e){return typeof e>"u"||e===null}function pe(e){return typeof e=="object"&&e!==null}function me(e){return Array.isArray(e)?e:D(e)?[]:[e]}function de(e,t){var r,i,n,l;if(t)for(l=Object.keys(t),r=0,i=l.length;r<i;r+=1)n=l[r],e[n]=t[n];return e}function xe(e,t){var r="",i;for(i=0;i<t;i+=1)r+=e;return r}function ge(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var he=D,ye=pe,ve=me,we=xe,be=ge,ke=de,F={isNothing:he,isObject:ye,toArray:ve,repeat:we,isNegativeZero:be,extend:ke};function U(e,t){var r="",i=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),i+" "+r):i}function w(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=U(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}w.prototype=Object.create(Error.prototype);w.prototype.constructor=w;w.prototype.toString=function(t){return this.name+": "+U(this,t)};var x=w,_e=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Se=["scalar","sequence","mapping"];function Ne(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(i){t[String(i)]=r})}),t}function Oe(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(_e.indexOf(r)===-1)throw new x('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=Ne(t.styleAliases||null),Se.indexOf(this.kind)===-1)throw new x('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var c=Oe;function Y(e,t){var r=[];return e[t].forEach(function(i){var n=r.length;r.forEach(function(l,o){l.tag===i.tag&&l.kind===i.kind&&l.multi===i.multi&&(n=o)}),r[n]=i}),r}function Fe(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function i(n){n.multi?(e.multi[n.kind].push(n),e.multi.fallback.push(n)):e[n.kind][n.tag]=e.fallback[n.tag]=n}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(i);return e}function N(e){return this.extend(e)}N.prototype.extend=function(t){var r=[],i=[];if(t instanceof c)i.push(t);else if(Array.isArray(t))i=i.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(i=i.concat(t.explicit));else throw new x("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(l){if(!(l instanceof c))throw new x("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(l.loadKind&&l.loadKind!=="scalar")throw new x("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(l.multi)throw new x("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(l){if(!(l instanceof c))throw new x("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var n=Object.create(N.prototype);return n.implicit=(this.implicit||[]).concat(r),n.explicit=(this.explicit||[]).concat(i),n.compiledImplicit=Y(n,"implicit"),n.compiledExplicit=Y(n,"explicit"),n.compiledTypeMap=Fe(n.compiledImplicit,n.compiledExplicit),n};var Ee=N,Ae=new c("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Ie=new c("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Te=new c("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Ye=new Ee({explicit:[Ae,Ie,Te]});function Ce(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function Pe(){return null}function Me(e){return e===null}var je=new c("tag:yaml.org,2002:null",{kind:"scalar",resolve:Ce,construct:Pe,predicate:Me,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Be(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function ze(e){return e==="true"||e==="True"||e==="TRUE"}function Le(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var Re=new c("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Be,construct:ze,predicate:Le,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function De(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Ue(e){return 48<=e&&e<=55}function Ve(e){return 48<=e&&e<=57}function $e(e){if(e===null)return!1;var t=e.length,r=0,i=!1,n;if(!t)return!1;if(n=e[r],(n==="-"||n==="+")&&(n=e[++r]),n==="0"){if(r+1===t)return!0;if(n=e[++r],n==="b"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(n!=="0"&&n!=="1")return!1;i=!0}return i&&n!=="_"}if(n==="x"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(!De(e.charCodeAt(r)))return!1;i=!0}return i&&n!=="_"}if(n==="o"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(!Ue(e.charCodeAt(r)))return!1;i=!0}return i&&n!=="_"}}if(n==="_")return!1;for(;r<t;r++)if(n=e[r],n!=="_"){if(!Ve(e.charCodeAt(r)))return!1;i=!0}return!(!i||n==="_")}function qe(e){var t=e,r=1,i;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),i=t[0],(i==="-"||i==="+")&&(i==="-"&&(r=-1),t=t.slice(1),i=t[0]),t==="0")return 0;if(i==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function Ge(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!F.isNegativeZero(e)}var Ze=new c("tag:yaml.org,2002:int",{kind:"scalar",resolve:$e,construct:qe,predicate:Ge,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Ke=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function We(e){return!(e===null||!Ke.test(e)||e[e.length-1]==="_")}function He(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var Xe=/^[-+]?[0-9]+e/;function Je(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(F.isNegativeZero(e))return"-0.0";return r=e.toString(10),Xe.test(r)?r.replace("e",".e"):r}function Qe(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||F.isNegativeZero(e))}var et=new c("tag:yaml.org,2002:float",{kind:"scalar",resolve:We,construct:He,predicate:Qe,represent:Je,defaultStyle:"lowercase"}),tt=Ye.extend({implicit:[je,Re,Ze,et]}),rt=tt,V=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),$=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function nt(e){return e===null?!1:V.exec(e)!==null||$.exec(e)!==null}function it(e){var t,r,i,n,l,o,s,a=0,u=null,m,f,p;if(t=V.exec(e),t===null&&(t=$.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],i=+t[2]-1,n=+t[3],!t[4])return new Date(Date.UTC(r,i,n));if(l=+t[4],o=+t[5],s=+t[6],t[7]){for(a=t[7].slice(0,3);a.length<3;)a+="0";a=+a}return t[9]&&(m=+t[10],f=+(t[11]||0),u=(m*60+f)*6e4,t[9]==="-"&&(u=-u)),p=new Date(Date.UTC(r,i,n,l,o,s,a)),u&&p.setTime(p.getTime()-u),p}function ot(e){return e.toISOString()}var lt=new c("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:nt,construct:it,instanceOf:Date,represent:ot});function st(e){return e==="<<"||e===null}var at=new c("tag:yaml.org,2002:merge",{kind:"scalar",resolve:st}),E=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function ct(e){if(e===null)return!1;var t,r,i=0,n=e.length,l=E;for(r=0;r<n;r++)if(t=l.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;i+=6}return i%8===0}function ut(e){var t,r,i=e.replace(/[\r\n=]/g,""),n=i.length,l=E,o=0,s=[];for(t=0;t<n;t++)t%4===0&&t&&(s.push(o>>16&255),s.push(o>>8&255),s.push(o&255)),o=o<<6|l.indexOf(i.charAt(t));return r=n%4*6,r===0?(s.push(o>>16&255),s.push(o>>8&255),s.push(o&255)):r===18?(s.push(o>>10&255),s.push(o>>2&255)):r===12&&s.push(o>>4&255),new Uint8Array(s)}function ft(e){var t="",r=0,i,n,l=e.length,o=E;for(i=0;i<l;i++)i%3===0&&i&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[i];return n=l%3,n===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):n===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):n===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}function pt(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var mt=new c("tag:yaml.org,2002:binary",{kind:"scalar",resolve:ct,construct:ut,predicate:pt,represent:ft}),dt=Object.prototype.hasOwnProperty,xt=Object.prototype.toString;function gt(e){if(e===null)return!0;var t=[],r,i,n,l,o,s=e;for(r=0,i=s.length;r<i;r+=1){if(n=s[r],o=!1,xt.call(n)!=="[object Object]")return!1;for(l in n)if(dt.call(n,l))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(l)===-1)t.push(l);else return!1}return!0}function ht(e){return e!==null?e:[]}var yt=new c("tag:yaml.org,2002:omap",{kind:"sequence",resolve:gt,construct:ht}),vt=Object.prototype.toString;function wt(e){if(e===null)return!0;var t,r,i,n,l,o=e;for(l=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(i=o[t],vt.call(i)!=="[object Object]"||(n=Object.keys(i),n.length!==1))return!1;l[t]=[n[0],i[n[0]]]}return!0}function bt(e){if(e===null)return[];var t,r,i,n,l,o=e;for(l=new Array(o.length),t=0,r=o.length;t<r;t+=1)i=o[t],n=Object.keys(i),l[t]=[n[0],i[n[0]]];return l}var kt=new c("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:wt,construct:bt}),_t=Object.prototype.hasOwnProperty;function St(e){if(e===null)return!0;var t,r=e;for(t in r)if(_t.call(r,t)&&r[t]!==null)return!1;return!0}function Nt(e){return e!==null?e:{}}var Ot=new c("tag:yaml.org,2002:set",{kind:"mapping",resolve:St,construct:Nt}),Ft=rt.extend({implicit:[lt,at],explicit:[mt,yt,kt,Ot]});function C(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}var Et=new Array(256),At=new Array(256);for(var g=0;g<256;g++)Et[g]=C(g)?1:0,At[g]=C(g);var A=c,It=Ft;class q{constructor(t){b(this,"content");this.content=t}}const Tt=e=>new q(e),Yt=new A("!extend",{kind:"scalar",construct:e=>Tt(e),represent:e=>e.content,instanceOf:q});class G{constructor(t){b(this,"content");this.content=t}}const Ct=e=>new G(e),Pt=new A("!lambda",{kind:"scalar",construct:e=>Ct(e),represent:e=>e.content,instanceOf:G});class Z{constructor(t){b(this,"content");this.content=t}}const Mt=e=>new Z(e),jt=new A("!secret",{kind:"scalar",construct:e=>Mt(e),represent:e=>e.content,instanceOf:Z}),Bt=[Yt,Pt,jt];It.extend(Bt);const O=[19,20,21,22,23,24,13,14,15,16,17,18,7,8,9,10,11,12,1,2,3,4,5,6],zt=e=>({num:e.num,expose:e.expose??!0,blip_on_press:e.blip_on_press??!0,ha_entity:e.ha_entity??null,toggle:e.toggle??!0,follow_state:e.toggle??!0,follow_brightness:e.follow_brightness??!0,follow_color:e.follow_color??!0});function Lt(e){return J()?(Q(e),!0):!1}function Rt(e){return typeof e=="function"?e():d(e)}const Dt=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function P(e){var t;const r=Rt(e);return(t=r==null?void 0:r.$el)!=null?t:r}const Ut=Dt?window:void 0;function Vt(){const e=k(!1),t=re();return t&&te(()=>{e.value=!0},t),e}function $t(e){const t=Vt();return v(()=>(t.value,!!e()))}function qt(e,t,r={}){const{window:i=Ut,...n}=r;let l;const o=$t(()=>i&&"ResizeObserver"in i),s=()=>{l&&(l.disconnect(),l=void 0)},a=v(()=>Array.isArray(e)?e.map(f=>P(f)):[P(e)]),u=ee(a,f=>{if(s(),o.value&&i){l=new ResizeObserver(t);for(const p of f)p&&l.observe(p,n)}},{immediate:!0,flush:"post"}),m=()=>{s(),u()};return Lt(m),{isSupported:o,stop:m}}const Gt=B({__name:"DeckPad",props:{modelValue:{type:Object,required:!0},modelModifiers:{},editing:{type:Object},editingModifiers:{}},emits:["update:modelValue","update:editing"],setup(e){const t=k(),r=T(e,"modelValue"),i=T(e,"editing"),n=L();if(!r.value)throw new Error("Pad model is required");const l=v(()=>{const a=Object.values(r.value.buttons);return a.sort((u,m)=>O.indexOf(u.keyNum)-O.indexOf(m.keyNum)),a}),o=a=>{var u;if(!a||((u=i.value)==null?void 0:u.keyNum)===a.keyNum)return i.value=void 0;i.value=a},s=j({devicePixelRatio:1,rootFontSize:14,scaleFactor:1});return qt(t,()=>{s.devicePixelRatio=(window==null?void 0:window.devicePixelRatio)??1,s.rootFontSize=Number(window==null?void 0:window.getComputedStyle(document.body).getPropertyValue("font-size").replace("px",""))??14,s.scaleFactor=14*s.devicePixelRatio*(96/25.4)/(4*s.rootFontSize)}),ne(R,s),(a,u)=>{const m=fe;return h(),y("div",{ref_key:"gridRef",ref:t,class:S([{printmode:d(n)},"pad-grid"])},[(h(!0),y(ie,null,oe(d(l),f=>{var p;return h(),le(m,{key:f.keyNum,container:f,"data-keynum":f.keyNum,editing:((p=i.value)==null?void 0:p.keyNum)===f.keyNum&&!d(n),class:"pad-grid-item",onClick:Kt=>o(f)},null,8,["container","data-keynum","editing","onClick"])}),128))],2)}}}),Xt=z(Gt,[["__scopeId","data-v-a486a9b1"]]),Zt=(e,t={})=>Object.assign({keyNum:e,component:zt({num:e}),label:{icon:"",text:"",fontSize:12}},t),Jt=()=>({title:"LocalDeck",buttons:O.reduce((e,t)=>(e[t]=Zt(t),e),{})});export{Xt as _,se as i,Jt as n};
